<html>
<head>
    <title><%= title %></title>
    <link rel="stylesheet" href="css/home.css">
    <link rel="icon" href="favicon/favicon.png" type="image/png" sizes="16x16">
    <script src="https://kit.fontawesome.com/7e5368e77b.js" crossorigin="anonymous"></script>
</head>
<body>
    <!-- TO-DO List Container -->
    <div class="app__container">
        <!-- Heading of TO-DO list app -->
        <h1 class="app__name">TODO App</h1>
		<!-- TO-DO List Main Body -->
        <div class="app__body">
			<!-- Form container to take Input For TO-DO List -->
            <div class="app__form__container">
				<!-- Form to take Input For TO-DO List -->
                <form class="form" action="/add-task" method="POST">
					<!--Input tag for Description of Task-->
                    <div class="input__description__container">
                        <div class="label__container">
                            <label for="input-description">description</label>
                        </div>
                        <input type="text" name="input-description" id="input-description" placeholder="What do you need to do?" required>
					</div>
                    <div class="input__category__due__date__container">
						<!-- Select Tag to select category of task-->
                        <div class="input__category__container">
                            <div class="label__container">
                                <label for="input-category">category</label>
                            </div>
                            <div class="accordian__container">
                                <div class="accordian__display__container">
                                    <input type="text" name="category" value="Choose a category" placeholder="Choose a category" class="accordian__display" readonly>
                                    <i class="fas fa-sort-down"></i>
                                </div>
                                <div class="accordian">
                                <div class="accordian__item">
                                    <input type="radio" name="task-category" id="none">
                                    <label for="none">None</label>
                                </div>
                                <div class="accordian__item">
                                    <input type="radio" name="task-category" id="personal">
                                    <label for="personal">Personal</label>
                                </div>
                                <div class="accordian__item">
                                    <input type="radio" name="task-category" id="work">
                                    <label for="work">Work</label>
                                </div>
                                <div class="accordian__item">
                                    <input type="radio" name="task-category" id="school">
                                    <label for="school">School</label>
                                </div>
                                <div class="accordian__item">
                                    <input type="radio" name="task-category" id="cleaning">
                                    <label for="cleaning">Cleaning</label>
                                </div>
                                <div class="accordian__item">
                                    <input type="radio" name="task-category" id="other">
                                    <label for="other">Other</label>
                                </div>
                                </div>
                            </div>
						</div>
						<!--Input Tag to Select Date of Task-->
                        <div class="input__due__date__container">
                            <div class="label__container">
                                <label for="input-due-date">due date</label>
                            </div>
                            <input type="date" name="input-due-date" id="input__due__date">
                        </div>
                    </div>
                    <div class="add__task__delete__task__button__container">
                        <button type="submit" class="add__task button" id="add__task"><a> <i class="fas fa-plus"></i> &emsp; add task</a></button>
                        <button type="button" class="delete__task button"> <a href='/delete-task' class="delete__task"> <i class="far fa-trash-alt"></i> &ensp; delete tasks</a></button>
                    </div>
                </form>
			</div>
			<!--Task List Container-->
            <div class="to__do__list__container">
                <!--Task List-->
                <ul class="to__do__list">
                    <% for(let task of task_list) { %>
                        <li class="list__item__container">
                            <a href="/mark-task?id=<%= task["_id"]%>">
                            <div class="list__item" id=<%= task["_id"]%> data-task-completed = <%= task["taskCompleteStatus"]%>>
                                <button class="check__box">
                                    <i class="fas fa-check-square"></i>
                                </button>
                                <div class="description__due__date__container">
                                    <div class="description__container">
                                    <%= task["description"] %>
                                    </div>
                                    <div class="due__date__container">
                                        <i class="fas fa-calendar-alt"></i> <%= task["date"]%>
                                    </div>
                                </div>
                                <div class="catergory__container" style="background-color : <%=color_list[task["category"]]%> ; color:white;">
                                    <%if(task["category"] != 'None' && task["category"] != 'Choose a category'){%> 
                                        <%= task["category"]%>
                                    <%}%> 
                                </div>
                            </div>
                        </a>
                        </li>
                    <% } %>
                </ul>
            </div>
        </div>
    </div>
    <script
    src="https://code.jquery.com/jquery-3.5.1.js"
    integrity="sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc="
    crossorigin="anonymous"></script>
    <script src="js/category-accordian.js"></script>
    <script src="js/date.js"></script>
    <script src="js/to-do-list.js"></script>
    </body>
</html>